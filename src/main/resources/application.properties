spring.application.name=opensaml

# Server configuration
server.port=8080
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=10
server.tomcat.connection-timeout=20000

# Production Security Headers
server.tomcat.remote-ip-header=x-forwarded-for
server.tomcat.protocol-header=x-forwarded-proto
server.tomcat.port-header=x-forwarded-port

# SAML Configuration
saml.entity-id=http://localhost:8080/saml/metadata
saml.assertion-consumer-service-url=http://localhost:8080/saml/acs
saml.single-logout-service-url=http://localhost:8080/saml/slo

# Identity Provider Configuration (example values - update with your IdP details)
saml.idp.entity-id=http://your-idp-entity-id
saml.idp.single-sign-on-service-url=http://your-idp-sso-url
saml.idp.single-logout-service-url=http://your-idp-slo-url
saml.idp.x509-certificate=your-idp-certificate-here

# Service Provider Certificate and Key (example values - generate your own)
saml.sp.x509-certificate=your-sp-certificate-here
saml.sp.private-key=your-sp-private-key-here

# SAML Settings
saml.name-id-format=urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress
saml.want-assertions-signed=true
saml.want-name-id=true
saml.want-name-id-encrypted=false
saml.want-assertions-encrypted=false
saml.assertion-validity-in-seconds=300

# Production Security Settings
saml.security.replay-attack-protection=true
saml.security.max-response-age-minutes=5
saml.security.session-timeout-minutes=30
saml.security.require-signatures=true
saml.security.require-encryption=false

# Logging Configuration
logging.level.com.saml.server.opensaml=INFO
logging.level.org.opensaml=WARN
logging.level.org.springframework.web=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# File logging for production
logging.file.name=logs/opensaml.log
logging.file.max-size=100MB
logging.file.max-history=30

# Actuator endpoints for monitoring
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=always

# Health check configuration
management.health.diskspace.enabled=true
management.health.diskspace.threshold=1073741824

# Metrics configuration
management.metrics.export.prometheus.enabled=true
management.metrics.tags.application=${spring.application.name}

# Session management
server.servlet.session.timeout=30m
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=strict

# Error handling
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false

# Production environment
spring.profiles.active=production
