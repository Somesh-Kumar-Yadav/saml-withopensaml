<?xml version="1.0" encoding="UTF-8"?>
<md:EntityDescriptor xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
                     xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
                     entityID="http://localhost:8080/saml/metadata"
                     validUntil="2026-12-31T23:59:59Z">
    
    <!-- Service Provider Organization Information -->
    <md:Organization>
        <md:OrganizationName xml:lang="en">SAML Framework with OpenSAML 3</md:OrganizationName>
        <md:OrganizationDisplayName xml:lang="en">SAML Framework SP</md:OrganizationDisplayName>
        <md:OrganizationURL xml:lang="en">http://localhost:8080</md:OrganizationURL>
    </md:Organization>
    
    <!-- Contact Information -->
    <md:ContactPerson contactType="technical">
        <md:GivenName>Technical</md:GivenName>
        <md:SurName>Support</md:SurName>
        <md:EmailAddress>tech-support@example.com</md:EmailAddress>
    </md:ContactPerson>
    
    <!-- Service Provider Single Sign-On Service -->
    <md:SPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol"
                         AuthnRequestsSigned="false"
                         WantAssertionsSigned="true">
        
        <!-- Key Descriptor for Signing (if you have SP certificate) -->
        <!--
        <md:KeyDescriptor use="signing">
            <ds:KeyInfo>
                <ds:X509Data>
                    <ds:X509Certificate>
                        YOUR_SP_CERTIFICATE_HERE
                    </ds:X509Certificate>
                </ds:X509Data>
            </ds:KeyInfo>
        </md:KeyDescriptor>
        -->
        
        <!-- Key Descriptor for Encryption (if you have SP certificate) -->
        <!--
        <md:KeyDescriptor use="encryption">
            <ds:KeyInfo>
                <ds:X509Data>
                    <ds:X509Certificate>
                        YOUR_SP_CERTIFICATE_HERE
                    </ds:X509Certificate>
                </ds:X509Data>
            </ds:KeyInfo>
        </md:KeyDescriptor>
        -->
        
        <!-- Single Sign-On Service - HTTP-POST Binding -->
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"
                                Location="http://localhost:8080/saml/slo"
                                ResponseLocation="http://localhost:8080/saml/slo-response"/>
        
        <!-- Single Logout Service - HTTP-Redirect Binding -->
        <md:SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"
                                Location="http://localhost:8080/saml/slo"
                                ResponseLocation="http://localhost:8080/saml/slo-response"/>
        
        <!-- Assertion Consumer Service - HTTP-POST Binding -->
        <md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"
                                     Location="http://localhost:8080/saml/acs"
                                     index="0"
                                     isDefault="true"/>
        
        <!-- Assertion Consumer Service - HTTP-Redirect Binding -->
        <md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"
                                     Location="http://localhost:8080/saml/acs"
                                     index="1"
                                     isDefault="false"/>
        
        <!-- Name ID Formats -->
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat>
        <md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat>
        
        <!-- Requested Attributes -->
        <md:AttributeConsumingService index="0" isDefault="true">
            <md:ServiceName xml:lang="en">SAML Framework Application</md:ServiceName>
            <md:ServiceDescription xml:lang="en">Main application service</md:ServiceDescription>
            
            <!-- Requested Attributes -->
            <md:RequestedAttribute Name="email" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:basic" isRequired="true"/>
            <md:RequestedAttribute Name="firstName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:basic" isRequired="false"/>
            <md:RequestedAttribute Name="lastName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:basic" isRequired="false"/>
            <md:RequestedAttribute Name="department" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:basic" isRequired="false"/>
            <md:RequestedAttribute Name="employeeId" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:basic" isRequired="false"/>
            <md:RequestedAttribute Name="groups" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:basic" isRequired="false"/>
        </md:AttributeConsumingService>
        
    </md:SPSSODescriptor>
    
</md:EntityDescriptor>
